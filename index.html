<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ahahahaha</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #000; /* optional: black background for contrast */
      color: #B72C2E;      /* optional: white text */
    }
    #countdown {
      font-size: 8vw; /* scales with screen size */
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="countdown">Loading...</div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBtodWeeNaDTNiv0q15d5DWJKt_0YHl9Eg",
      authDomain: "countdown2-245ea.firebaseapp.com",
      databaseURL: "https://countdown2-245ea-default-rtdb.firebaseio.com",
      projectId: "countdown2-245ea",
      storageBucket: "countdown2-245ea.appspot.com",
      messagingSenderId: "989217021491",
      appId: "1:989217021491:web:dc909ec89c443209810d46"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const countdownEl = document.getElementById("countdown");
    let countdownInterval;

    function updateCountdown(endTime) {
      clearInterval(countdownInterval);
      countdownInterval = setInterval(() => {
        const now = Date.now();
        const timeLeft = endTime - now;

        if (timeLeft <= 0) {
          clearInterval(countdownInterval);
          countdownEl.textContent = `xeh=yek
          Fz uw, cvvzf?

Oi nvrqui zeww mâxl p’nwhesmnv oebrn égqeaewx,
Hlhudi reygqi qypx bszw si bsqipp llfraewx.
Fvymeé xtya iw lfya, udiq gbvrizb kiesnv,
Kieesx tsr wj xpiwx zr pqviswl xrvtmy.

Nn p’tycvn htyjivisx, jsvqj yu igtqsyecizv,
Jlnvhlhrc ys qfwcèvj, yu wngwia, yw ftroidv.
À q’muxéamjyy, wdvuvpwn iy égsec hj vpvn,
Ys qvrmi nrjswrz zpiwx ysbx v’iskssdxnv.
`;
          return;
        }

        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

        countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
      }, 1000);
    }

    onValue(ref(db, "countdown/endTime"), (snapshot) => {
      const endTime = snapshot.val();
      if (endTime) {
        updateCountdown(endTime);
      } else {
        countdownEl.textContent = "Not started";
      }
    });

    const params = new URLSearchParams(window.location.search);
    if (params.get("start") === "true") {
      const endTime = Date.now() + (2 * 24 * 60 * 60 * 1000);
      set(ref(db, "countdown"), { endTime });
    }
  </script>
</body>
</html>
